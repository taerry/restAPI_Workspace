<!DOCTYPE html>
<html>
<head>
	<title>Asynchronous Transmission Example</title>
</head>
<body>
	<h1>Asynchronous Transmission Example</h1>
	<button onclick="jsonPlacefetchAllData()">Fetch Data</button>
	<div id="output">Waiting for data...</div>
	
	<script>
		async function jsonPlacefetchAllData() {
			document.getElementById("output").innerText = "Fetching data...";
			// Asynchronous request to a public API (for example, a placeholder API)
			try {
				let response = await fetch('https://jsonplaceholder.typicode.com/posts');
				// Code here will continue to run while waiting for the server's response
				let data = await response.json(); // Waits for the response to be converted to JSON

				//할일 처리
				let html="<table border='1' width='1000' cellpadding='5' cellspacing='0'>";
					html+="<tr>";
						html+="<th>userID</th>";
						html+="<th>Id</th>";
						html+="<th>Title</th>";
						html+="<th>Body</tH>";
					html+="</tr>";
					data.forEach(post => {
						html+="<tr>";
							html+="<td style='text-alig:center'>"+post.userId+"</td>";
							html+="<td style='text-alig:center'>"+post.id+"</td>";
							html+="<td>"+post.title+"</td>";
							html+="<td>"+post.body+"</td>";
						html+="</tr>";
					});
				html+= "<table>";
				document.getElementById("output").innerHTML = html;
			} catch (error) {
				console.error("Error fetching data:", error);
				document.getElementById("output").innerText = "Failed to fetch data.";
			}
		}
	</script>
</body>
</html>